<?php	//Came orgionally from the CBORD project file \inc\common.php	/**	 * Displays the last SOAP Call	 * @param unknown_type $SOAPObject	 */	function displaySOAPCall($SOAPObject){		if($_SESSION['debug'] == "ALL_SOAP"){			$request = $SOAPObject->__getLastRequest();						//** Gets the name of call being made			$callStart = strpos($request, "ns1:")+4;			$callEnd = strpos($request, ">", $callStart);			$call = substr($request, $callStart, ($callEnd - $callStart));			//** Gets the name of class the call is in			$classStart = strpos($request, "http://services.")+16;			$classEnd = strpos($request, ".", $classStart);			$class = substr($request, $classStart, ($classEnd - $classStart));						$SOAPReturn = $SOAPObject->__getLastResponse();			$SOAPObject = $SOAPObject->__getLastRequest();			$_SESSION['error'] .= "<table style='width:100%; margin-top: 10px; border-collapse:collapse; border: 1px solid #BBBBBB;'><tr><th><h3>$class -> $call</h3></th></tr>".										"<tr><th>SOAP Request</th></tr><tr><td style='height:100%;'><pre rows='11' cols='32' style='width:100%; height:100%'>".htmlspecialchars($SOAPObject). "</pre></td></tr>".				"<tr><th>SOAP Response</th></tr><tr><td style='height:100%;'><pre rows='11' cols='32' style='width:100%; height:100%'>".htmlspecialchars($SOAPReturn). "</pre></td></tr>".				"</table>";		}	}?>